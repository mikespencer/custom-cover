/* 2013-09-13 | WP ADOPS */
var wpAd=wpAd||{};wpAd.CustomCover=function(a){"use strict";function b(b){this.config=a.extend({creative:"",creativeType:"image",width:"718px",height:"512px",target:"article.main:first div.row:first",replayCreative:"",replayWidth:"300px",replayHeight:"16px",replayTarget:"div.customcover-replay-target",prependReplayCreativeToTarget:!0,clickTracker:"",clickTrackerEsc:"",clickTag:"",addCloseButton:!0,closeButtonColor:"#fff",onInteractionConfig:{},timeOpen:7e3,auto:!0,expDelay:1e3,adid:!1,impressionPixel:""},b),this.$target=a(this.config.target),this.init()}var c=window.console||{log:function(){}},d=800;return a?(b.prototype={init:function(){this.config.auto?this.exec():(this.buildReplayCreative(),this.placeReplayCreative()),this.config.impressionPixel&&this.addPixel(this.config.impressionPixel)},exec:function(){var a=this;this.buildCreativeContainer(),this.buildCreative(),this.placeCreative(),this.config.auto?(this.config.auto=!1,this.expDelay=setTimeout(function(){a.expand(),a.colDelay=setTimeout(function(){a.collapse()},a.config.timeOpen+d)},this.config.expDelay)):this.expDelay=setTimeout(function(){a.expand()},100)},buildCreativeContainer:function(){this.$creativeContainer=a('<div class="customcover"></div>').addClass("collapse")},buildCreative:function(){var a={image:"buildImageCreative",flash:"buildFlashCreative",iframe:"buildIframeCreative",video:"buildVideoCreative"};this.config.creativeType=a[this.config.creativeType]?this.config.creativeType:"image",this.creativeCode=this[a[this.config.creativeType]].call(this),this.$creativeContainer.append(this.creativeCode),this.config.addCloseButton&&this.addCloseButton()},buildImageCreative:function(){return'<a href="'+this.config.clickTracker+this.config.clickTag+'" target="_blank">'+'<img src="'+this.config.creative+'" alt="Click here for more information.">'+"</a>"},buildFlashCreative:function(){return""},buildIframeCreative:function(){return""},buildVideoCreative:function(){return""},placeCreative:function(){this.$target.prepend(this.$creativeContainer)},addReplayButton:function(){var b=this,c=this.config.prependReplayCreativeToTarget?"prependTo":"appendTo";this.$replayButton=a("<img />").attr({src:this.config.replayCreative,width:this.config.replayWidth,height:this.config.replayHeight,alt:"Click here to replay advertisement."}).addClass("replay-customcover").hide()[c](this.config.replayTarget).on("click",function(){a(this).off("click"),b.reconfig(b.config.onInteractionConfig),b.exec()}).show(250)},removeReplayButton:function(){this.$replayButton&&this.$replayButton.remove()},addCloseButton:function(){var b=this;this.closeBtn=a("<span>close [x]</span>").addClass("customcover-closebtn").css({color:b.config.closeButtonColor}).prependTo(this.$creativeContainer).on("click",function(){a(this).off("click"),b.collapse()})},expand:function(){this.removeReplayButton(),this.$creativeContainer.addClass("expand").removeClass("collapse")},collapse:function(){var a=this;this.colDelay&&clearTimeout(this.colDelay),this.$creativeContainer.addClass("collapse").removeClass("expand"),setTimeout(function(){a.remove(),a.addReplayButton()},d)},remove:function(){this.$creativeContainer.remove()},reconfig:function(b){this.config=a.extend(this.config,b)},addPixel:function(b){b=b.replace(/\[random\]/i,Math.floor(1e5*Math.random())),a('<img src="'+b+'" height="1" width="1" alt="" style="display:none;" />').appendTo("body")}},b):function(){c.log("Custom Cover failed - jQuery is undefined")}}(window.jQuery);